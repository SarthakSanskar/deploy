{"version":3,"sources":["functions/product.js","components/cards/ProductListItems.js","components/modal/RatingModal.js","components/cards/SingleProduct.js","pages/Product.js"],"names":["getProductsByCount","axios","create","count","a","get","process","REACT_APP_API","getProduct","slug","removeProduct","authtoken","delete","data","createProduct","product","post","updateProduct","put","getProducts","sort","order","page","getproductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","ProductListItems","price","category","subs","shipping","color","brand","quantity","sold","className","to","name","map","s","_id","RatingModal","children","user","useSelector","state","useState","modalVisible","setModalVisible","history","useHistory","useParams","onClick","token","push","pathname","from","StarOutlined","title","centered","visible","onOk","toast","success","onCancel","TabPane","Tabs","SingleProduct","onStarClick","images","description","length","showArrows","autoPlay","infiniteLoop","autoFocus","i","src","url","public_id","cover","alt","type","tab","ratings","showAverage","actions","ShoppingCartOutlined","HeartOutlined","numberOfStars","rating","changeRating","isSelectable","starRatedColor","Product","match","setProduct","related","setRelated","setStar","params","useEffect","loadSingleProduct","exsistingRatingObject","find","ele","postedBy","then","res","newRating","console","log","r","ProductCard"],"mappings":"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","file":"static/js/24.8326523f.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst instance = axios.create();\r\n\r\nexport const getProductsByCount = async (count) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/${count}`\r\n      )\r\n};\r\n\r\n\r\nexport const getProduct = async (slug) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/product/${slug}`\r\n      )\r\n};\r\n\r\n\r\nexport const removeProduct = async (slug,authtoken) => {\r\n  return await axios.delete(\r\n        `${process.env.REACT_APP_API}/product/${slug}`,\r\n        { data: {authtoken} }\r\n      )\r\n};\r\n//\r\n//\r\n// export const updateCategory = async (slug,category,authtoken) => {\r\n//   return await axios.put(\r\n//         `${process.env.REACT_APP_API}/category/${slug}`,\r\n//         {authtoken, category}\r\n//       )\r\n// };\r\n\r\n\r\nexport const createProduct = async ( product,authtoken) => {\r\n  return await axios.post(\r\n        `${process.env.REACT_APP_API}/product`,\r\n        {authtoken,product}   \r\n      )\r\n};\r\n\r\nexport const updateProduct = async (slug, product,authtoken) => {\r\n  return await axios.put(\r\n        `${process.env.REACT_APP_API}/product/${slug}`, \r\n        { authtoken ,product })};\r\n\r\n\r\nexport const getProducts = async ( sort , order , page) => {\r\n  return await axios.post(\r\n        `${process.env.REACT_APP_API}/products`,\r\n        {sort , order , page}   \r\n        )};\r\n\r\nexport const getproductsCount = async () => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/total`\r\n          )};\r\n\r\n\r\nexport const productStar = async (productId, star,authtoken) => {\r\n  return await axios.put(\r\n        `${process.env.REACT_APP_API}/product/star/${productId}`, \r\n        { authtoken ,star }\r\n        )};\r\n\r\n\r\nexport const getRelated = async (productId) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/related/${productId}`\r\n         )};\r\n\r\n\r\n         export const fetchProductsByFilter = async (arg) => {\r\n          return await axios.post(\r\n                `${process.env.REACT_APP_API}/search/filters` , arg\r\n              )\r\n        };         ","import React from 'react';\r\nimport{Link} from 'react-router-dom';\r\n\r\nconst ProductListItems = ({product}) => {\r\n    const{price,category, subs, shipping , color, brand , quantity , sold} = product;\r\n    return (\r\n        <ul className = 'list-group'>\r\n            <li className = 'list-group-item'>\r\n                Price {\" \"}<span className='label label-default label-pill pull-xs-right'>${price}</span>\r\n            </li>\r\n\r\n            { category && \r\n            (<li className = 'list-group-item'>\r\n                Category {\" \"} <Link to = {`/category/${category.slug}`}className='label label-default label-pill pull-xs-right'>{category.name}</Link>\r\n            </li>)}\r\n\r\n            { subs && (<li className = 'list-group-item'> \r\n                Sub Categories {subs.map((s) => <Link  key = {s._id} to ={`/sub/${s.slug}`} className='label label-default label-pill pull-xs-right'>{s.name}</Link>)} \r\n            </li>)}\r\n\r\n            <li className = 'list-group-item'>\r\n                Shipping {\" \"} <span className='label label-default label-pill pull-xs-right'>{shipping}</span>\r\n            </li>\r\n\r\n            <li className = 'list-group-item'>\r\n                Color <span className='label label-default label-pill pull-xs-right'>{color}</span>\r\n            </li>\r\n\r\n            <li className = 'list-group-item'>\r\n                Brand {\" \"} <span className='label label-default label-pill pull-xs-right'>{brand}</span>\r\n            </li>\r\n\r\n            <li className = 'list-group-item'>\r\n                Available {\" \"} <span className='label label-default label-pill pull-xs-right'>{quantity}</span>\r\n            </li>\r\n\r\n            <li className = 'list-group-item'>\r\n                Sold <span className='label label-default label-pill pull-xs-right'>{sold}</span>\r\n            </li>\r\n\r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default ProductListItems;","import React, { useState } from 'react';\r\nimport {Modal,Button} from 'antd';\r\nimport {toast} from 'react-toastify';\r\nimport {useSelector} from 'react-redux';\r\nimport {StarOutlined} from '@ant-design/icons';\r\nimport {useHistory , useParams} from 'react-router-dom';\r\n\r\nconst RatingModal = ({children}) => {\r\n    const {user} = useSelector((state) => ({ ...state}) );\r\n    const [modalVisible , setModalVisible] = useState(false);\r\n\r\n    let history = useHistory();\r\n    let {slug } = useParams();\r\n\r\n    const handleModal = () => {\r\n        if( user && user.token){\r\n            setModalVisible(true)\r\n        }else {\r\n            history.push({\r\n                pathname: '/login',\r\n                state  : {from :`/product/${slug}`}\r\n            });\r\n        }\r\n    };\r\n\r\n    return(\r\n        <>\r\n        <div onClick = {handleModal}>\r\n            <StarOutlined className = 'text-danger'/><br/> {user ? 'Infrastructure' : 'Login To See'}\r\n        </div>\r\n        <Modal title = 'Infrastructure'\r\n            centered\r\n            visible = {modalVisible}\r\n            onOk = {() => {\r\n                setModalVisible(false);\r\n                toast.success('Thanks for your Review...');\r\n            }}\r\n            onCancel = {() => setModalVisible(false)}\r\n            >\r\n             \r\n            {children}\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default RatingModal;","import React from 'react';\r\nimport { Card, Tabs } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { HeartOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\n// import Image from '../../images/mantu.jpeg';\r\nimport ProductListItems from './ProductListItems';\r\nimport StarRating from 'react-star-ratings';\r\nimport RatingModal from '../modal/RatingModal';\r\nimport {showAverage} from '../../functions/rating';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst SingleProduct = ({ product , onStarClick ,star }) => {\r\n    const { title, images, description, _id } = product;\r\n    return (\r\n        <>\r\n\r\n            <div className='col-md-7'>\r\n                {images && images.length ? (<Carousel showArrows={true} autoPlay infiniteLoop autoFocus={true}>\r\n                    {images && images.map((i) => <img src={i.url} key={i.public_id} />)}\r\n                </Carousel>) : (\r\n                    <Card\r\n                        cover={\r\n                            <img src='' alt='Image Loading'\r\n                                className='mb-3 card-iamges' />\r\n                        }\r\n                    ></Card>\r\n                )}\r\n\r\n                <Tabs type='cards'>\r\n                    <TabPane tab='Description' key='1'>\r\n                        {description && description}\r\n                    </TabPane>\r\n\r\n                    <TabPane tab='More' key='2'>\r\n                        Call us on *** *** **** to learn more about Products .\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n\r\n\r\n            <div className='col-md-5'>\r\n                <h1 className='bg-info p-3'>{title}</h1>\r\n                    {product && product.ratings && product.ratings.length > 0 ? showAverage(product) : <div className = 'text-center pt-1 pb-3' > No Rating Yet</div>}\r\n                <Card\r\n                    actions={[\r\n                        <>\r\n                            <ShoppingCartOutlined className='text-success' /><br />Interested\r\n                    </>,\r\n                        <Link to='/'>\r\n                            <HeartOutlined className='text-info' /><br />\r\n                    Add to wishlist\r\n                    </Link>,\r\n\r\n                        <RatingModal>\r\n                            <StarRating\r\n                                name={_id}\r\n                                numberOfStars={5}\r\n                                rating={star}\r\n                                changeRating = {onStarClick}\r\n                                isSelectable={true}\r\n                                starRatedColor=\"red\"\r\n                            />\r\n                        </RatingModal>\r\n                    ]}>\r\n                    <ProductListItems product={product} />\r\n                </Card>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default SingleProduct;","import React, { useEffect, useState } from 'react';\r\nimport { getProduct , productStar } from '../functions/product';\r\nimport SingleProduct from '../components/cards/SingleProduct';\r\nimport {useSelector} from 'react-redux';\r\nimport {getRelated} from '../functions/product';\r\nimport productCard from '../components/cards/ProductCard'; \r\nimport ProductCard from '../components/cards/ProductCard';\r\n\r\n\r\nconst Product = ({ match }) => {\r\n    const [product, setProduct] = useState({});\r\n    const [related , setRelated] = useState([]);\r\n    const [star, setStar] = useState(0);\r\n\r\n    const {user} = useSelector((state) => ({...state}));\r\n\r\n    const { slug } = match.params\r\n\r\n\r\n    useEffect(() => {\r\n        loadSingleProduct();\r\n    }, [slug]);\r\n\r\n    useEffect(() => {\r\n        if(product.ratings && user){\r\n            let exsistingRatingObject = product.ratings.find((ele) => (ele.postedBy == user._id));\r\n            exsistingRatingObject && setStar(exsistingRatingObject.star);\r\n        }\r\n    });\r\n\r\n    const loadSingleProduct = () =>{\r\n        getProduct(slug).then((res => {\r\n            setProduct(res.data);\r\n            // load Related\r\n            getRelated(res.data._id).then(res => setRelated(res.data))\r\n        }));\r\n    }\r\n    const onStarClick = (newRating , name) => {\r\n        setStar(newRating);\r\n        // console.table(newRating , name);\r\n        productStar(name, newRating , user.token)\r\n        .then(res => {\r\n            console.log('rating clicked' ,  res.data);\r\n        });\r\n    };\r\n\r\n\r\n    return (\r\n        <div className='container-fluid'>\r\n            <div className='row pt-4 '>\r\n                <SingleProduct product={product} onStarClick = {onStarClick} star = {star} />\r\n            </div>\r\n\r\n            <div className='row'>\r\n                <div className = ' col text-center pt-5 pb-5 '> \r\n                <hr/>\r\n                <h4>Related Products</h4>\r\n                <hr/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className = 'row pb-5'>\r\n                {related.length ? related.map((r) => <div key = {r._id} className = 'col-md-4'>\r\n                    <ProductCard  product = {r}/>\r\n                </div>) :  <div className ='text-center col'> No Related Products</div>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Product;\r\n"],"sourceRoot":""}