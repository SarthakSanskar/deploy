{"version":3,"sources":["components/nav/AdminNav.js","components/forms/CategoryForm.js","components/forms/LocalSearch.js","pages/admin/sub/SubUpdate.js"],"names":["AdminNav","className","to","CategoryForm","handleSubmit","name","setName","onSubmit","type","onChange","e","target","value","autoFocus","required","LocalSearch","keyword","setKeyword","placeholder","preventDefault","toLowerCase","SubUpdate","match","history","user","useSelector","state","useState","loading","setLoading","categories","setCategories","parent","setParent","useEffect","loadCategories","loadSub","getSub","params","slug","then","s","data","getCategories","c","length","map","_id","selected","updateSub","token","res","toast","success","push","catch","err","console","log","response","status","error"],"mappings":"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","file":"static/js/13.2f269437.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst AdminNav = () => (\r\n  <nav>\r\n        <ul className=\"nav flex-column\">\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/dashboard' className='nav-link'>Dashboard</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/product' className='nav-link'>Product</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/products' className='nav-link'>Products</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/category' className='nav-link'>Category</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/sub' className='nav-link'>Sub Category</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/coupon' className='nav-link'>Coupons</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/user/password' className='nav-link'>Password</Link>\r\n            </li>\r\n        </ul>\r\n  </nav>\r\n);\r\n\r\n\r\nexport default AdminNav;\r\n","import React from 'react';\r\n\r\nconst CategoryForm = ({ handleSubmit, name, setName}) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div className='form-group'>\r\n          <label>Name</label>\r\n          <input\r\n            type='text'\r\n            className='form-control'\r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n            autoFocus\r\n            required\r\n           />\r\n           <br/>\r\n           <button className='btn btn-outline-primary'>Save</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\n\r\nexport default CategoryForm;\r\n","import React from 'react';\r\n\r\n\r\nconst LocalSearch = ({keyword, setKeyword}) => {\r\n\r\n  const handleSearchChange = (e) => {\r\n    e.preventDefault();\r\n    setKeyword(e.target.value.toLowerCase())\r\n  };\r\n\r\n\r\n  return (\r\n          <div className='container pb-4 pt-4'>\r\n              <input\r\n                type='search'\r\n                placeholder='Filter'\r\n                value={keyword}\r\n                onChange={handleSearchChange}\r\n                className='form-control mb-4'\r\n              />\r\n          </div>\r\n  )\r\n}\r\n\r\n\r\nexport default LocalSearch;\r\n","import React, {useState,useEffect} from 'react';\r\nimport AdminNav from '../../../components/nav/AdminNav';\r\nimport {toast} from 'react-toastify';\r\nimport {useSelector} from 'react-redux';\r\nimport {\r\n  createSub,\r\n  getSub,\r\n  updateSub\r\n} from '../../../functions/sub';\r\nimport {\r\n  getCategories\r\n} from '../../../functions/category';\r\nimport { Link } from 'react-router-dom';\r\nimport {EditOutlined, DeleteOutlined} from '@ant-design/icons';\r\nimport CategoryForm from '../../../components/forms/CategoryForm';\r\nimport LocalSearch from '../../../components/forms/LocalSearch';\r\n\r\nconst SubUpdate = ({match, history}) => {\r\n\r\n\r\n  const {user} = useSelector((state) => ({ ...state }));\r\n\r\n  const [name,setName] = useState('');\r\n  const [loading,setLoading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [parent, setParent ] = useState('');\r\n\r\n\r\n  useEffect(() => {\r\n      loadCategories();\r\n      loadSub();\r\n  }, []);\r\n\r\n  const loadSub = () =>\r\n      getSub(match.params.slug).then((s) => {\r\n        setName(s.data.name);\r\n        setParent(s.data.parent);\r\n\r\n      });\r\n\r\n\r\n\r\n  const loadCategories = () =>\r\n      getCategories().then((c) => setCategories(c.data));\r\n\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(name);\r\n    setLoading(true);\r\n    updateSub(match.params.slug, {name ,parent}, user.token)\r\n    .then(res => {\r\n      setLoading(false);\r\n      setName('');\r\n      toast.success(`\"${res.data.name}\" is updated`);\r\n      history.push('/admin/sub');\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      setLoading(false);\r\n      if (err.response.status === 400) toast.error(err.response.data);\r\n    })\r\n  }\r\n\r\n\r\n\r\n  return(\r\n  <div className='container-fluid'>\r\n    <div className='row'>\r\n        <div className='col-md-2'>\r\n            <AdminNav />\r\n        </div>\r\n        <div className='col'>\r\n                {loading ?(\r\n                  <h3 className='text-danger'> Loading... </h3>\r\n                ) : (\r\n                  <h3> Create Sub Category </h3>\r\n                ) }\r\n\r\n\r\n                <div className='form-group'>\r\n                  <label>Parent Category</label>\r\n                  <select name='category' className='form-control'  onChange={(e) => setParent(e.target.value) }>\r\n                      <option key='' value=''>Select</option>\r\n                      {categories.length >0 &&\r\n                        categories.map((c) => (\r\n                          <option key={c._id} value={c._id} selected={c._id === parent}>{c.name}</option>))}\r\n                  </select>\r\n                </div>\r\n                {/*JSON.stringify(category) */}\r\n\r\n\r\n                <CategoryForm name={name} handleSubmit={handleSubmit} setName={setName}  />\r\n\r\n\r\n\r\n            {/*  step 5 */}\r\n\r\n        </div>\r\n    </div>\r\n  </div>)\r\n  };\r\n\r\nexport default SubUpdate;\r\n"],"sourceRoot":""}