{"version":3,"sources":["pages/auth/ForgotPassword.js"],"names":["ForgotPassword","history","useState","email","setEmail","loading","setLoading","user","useSelector","state","useEffect","token","push","handleSubmit","e","a","preventDefault","config","url","process","REACT_APP_FORGET_PASSWORD_REDIRECT","handleCodeInApp","auth","sendPasswordResetEmail","then","toast","success","catch","error","message","console","log","className","onSubmit","type","value","onChange","target","placeholder","autofocus","disabled"],"mappings":"6LAiEeA,UA5DQ,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EACXC,mBAAS,IADE,mBAC7BC,EAD6B,KACvBC,EADuB,OAENF,oBAAS,GAFH,mBAE7BG,EAF6B,KAEpBC,EAFoB,KAI5BC,EAASC,aAAY,SAACC,GAAD,sBAAgBA,MAArCF,KAERG,qBAAU,WACJH,GAAQA,EAAKI,OACfV,EAAQW,KAAK,OAEf,CAACL,EAAMN,IAGT,IAAMY,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACnBD,EAAEE,iBACFV,GAAW,GAELW,EAAS,CACbC,IAAKC,mIAAYC,mCACjBC,iBAAiB,GANA,SAUbC,IAAKC,uBAAuBpB,EAAOc,GACxCO,MAAM,WACLpB,EAAS,IACTE,GAAW,GACXmB,IAAMC,QAAQ,+CAEfC,OAAM,SAACC,GACNtB,GAAW,GACXmB,IAAMG,MAAMA,EAAMC,SAClBC,QAAQC,IAAI,+BAAgCH,MAnB3B,2CAAH,sDAuBlB,OACG,sBAAKI,UAAU,qCAAf,UACI3B,EAAW,yCAEN,iDAGF,uBAAM4B,SAAUpB,EAAhB,UACI,uBACEqB,KAAK,QACLF,UAAU,eACVG,MAAOhC,EACPiC,SAAU,SAACtB,GAAD,OAAOV,EAASU,EAAEuB,OAAOF,QACnCG,YAAY,kBACZC,WAAS,IAPf,IAQO,uBACH,wBAAQP,UAAU,iBAAiBQ,UAAWrC,EAA9C","file":"static/js/27.0d8f0c7a.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';    //\r\nimport { auth } from '../../firebase';\r\nimport {toast} from 'react-toastify';\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst ForgotPassword = ({history}) => {\r\n  const [email,setEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { user } = useSelector((state) => ({...state}));\r\n\r\n  useEffect(() => {\r\n    if (user && user.token){\r\n      history.push('/');\r\n    }\r\n  },[user, history]);\r\n\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const config = {\r\n      url: process.env.REACT_APP_FORGET_PASSWORD_REDIRECT,\r\n      handleCodeInApp :true,\r\n      // window.location.protocol : 'http',\r\n    };\r\n\r\n    await auth.sendPasswordResetEmail(email, config)\r\n    .then (() => {\r\n      setEmail('');\r\n      setLoading(false);\r\n      toast.success(\"Check your email for password reset link\")\r\n    })\r\n    .catch((error) => {\r\n      setLoading(false);\r\n      toast.error(error.message);\r\n      console.log(\"Error Msg in Forgot Password\", error);\r\n    })\r\n  }\r\n\r\n  return (\r\n     <div className=\"container col-md-6 offset-md-3 p-5\">\r\n        {loading ? (<h4>Loading</h4>\r\n            ) : (\r\n              <h4>Forgot Password</h4>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  placeholder=\"Type your email\"\r\n                  autofocus\r\n                /> <br/>\r\n                <button className=\"btn btn-raised\" disabled={!email}>Submit</button>\r\n\r\n\r\n            </form>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"sourceRoot":""}