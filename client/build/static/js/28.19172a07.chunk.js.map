{"version":3,"sources":["pages/auth/Register.js"],"names":["Register","history","useState","email","setEmail","user","useSelector","state","useEffect","token","push","handleSubmit","e","a","preventDefault","config","url","process","REACT_APP_REGISTER_REDIRECT_URL","handleCodeInApp","console","log","auth","sendSignInLinkToEmail","toast","success","window","localStorage","setItem","className","onSubmit","type","value","onChange","target","placeholder","autoFocus"],"mappings":"6LAmEeA,UA7DC,SAAC,GAAe,IAAbC,EAAY,EAAZA,QAAY,EAEFC,mBAAS,IAFP,mBAEtBC,EAFsB,KAEdC,EAFc,KAIrBC,EAASC,aAAY,SAACC,GAAD,sBAAgBA,MAArCF,KAERG,qBAAU,WACJH,GAAQA,EAAKI,OACfR,EAAQS,KAAK,OAEf,CAACL,EAAMJ,IAIT,IAAMU,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACjBD,EAAEE,iBACIC,EAAS,CACbC,IAAKC,mIAAYC,gCACjBC,iBAAiB,GAGnBC,QAAQC,IAAIJ,mIAAYC,iCAPP,SAQXI,IAAKC,sBAAsBpB,EAAOY,GARvB,OASjBS,IAAMC,QAAN,2BACsBtB,EADtB,kDAKAuB,OAAOC,aAAaC,QAAQ,uBAAwBzB,GAGpDC,EAAS,IAjBQ,2CAAH,sDAmClB,OACE,qBAAKyB,UAAU,gBAAf,SACE,qBAAKA,UAAU,MAAf,SACI,sBAAKA,UAAU,uBAAf,UACE,0CAlBR,uBAAMC,SAAUnB,EAAhB,UACE,uBACMoB,KAAK,QACLF,UAAU,eACVG,MAAO7B,EACP8B,SAAU,SAAArB,GAAC,OAAGR,EAASQ,EAAEsB,OAAOF,QAChCG,YAAY,aACZC,WAAS,IAErB,uBACM,yBAAQL,KAAK,SAASF,UAAU,iBAAhC,uBAA4D1B","file":"static/js/28.19172a07.chunk.js","sourcesContent":["import React, {useState,useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport {toast} from 'react-toastify';\r\nimport {useSelector} from 'react-redux';\r\n\r\n\r\nconst Register =({ history })=>{\r\n\r\n  const [email , setEmail] = useState(\"\");\r\n\r\n  const { user } = useSelector((state) => ({...state}));\r\n\r\n  useEffect(() => {\r\n    if (user && user.token){\r\n      history.push('/');\r\n    }\r\n  },[user, history]);\r\n\r\n\r\n\r\n  const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      const config = {\r\n        url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n        handleCodeInApp :true\r\n      };\r\n\r\n      console.log(process.env.REACT_APP_REGISTER_REDIRECT_URL);\r\n      await auth.sendSignInLinkToEmail(email ,config)\r\n      toast.success(\r\n        `Email is sent to ${email}. Click the link to complete the registration`\r\n      );\r\n\r\n      // save user email in local storage\r\n      window.localStorage.setItem('emailForRegistration', email);\r\n\r\n      //clear state\r\n      setEmail(\"\");\r\n  };\r\n\r\n  const registerForm = () => (\r\n    <form onSubmit={handleSubmit} >\r\n      <input\r\n            type='email'\r\n            className=\"form-control\"\r\n            value={email}\r\n            onChange={e =>setEmail(e.target.value)}\r\n            placeholder=\"Your email\"\r\n            autoFocus\r\n        />\r\n<br/>\r\n      <button type=\"submit\" className=\"btn btn-raised\">Register##{email}</button>\r\n  </form>\r\n);\r\n\r\n  return (\r\n    <div className=\"container p-5\">\r\n      <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3\">\r\n            <h4>Register</h4>\r\n            {registerForm()}\r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}