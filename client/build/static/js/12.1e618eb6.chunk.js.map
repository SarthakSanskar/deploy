{"version":3,"sources":["components/nav/AdminNav.js","functions/product.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","components/cards/AdminProductCard.js","pages/admin/product/AllProducts.js"],"names":["AdminNav","className","to","getProductsByCount","axios","create","count","a","get","process","REACT_APP_API","getProduct","slug","removeProduct","authtoken","delete","data","createProduct","product","post","updateProduct","put","getProducts","sort","order","page","getproductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","EditOutlined","props","ref","React","AntdIcon","Object","assign","icon","EditOutlinedSvg","displayName","DeleteOutlined","DeleteOutlinedSvg","Meta","Card","AdminProductCard","handleRemove","title","images","description","cover","src","length","url","mantuPhoto","style","height","objectFit","actions","onClick","substring","AllProducts","useState","products","setProducts","loading","setLoading","user","useSelector","state","useEffect","loadAllProducts","then","res","catch","err","console","log","window","confirm","token","toast","error","response","status","map","_id"],"mappings":"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","file":"static/js/12.1e618eb6.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst AdminNav = () => (\r\n  <nav>\r\n        <ul className=\"nav flex-column\">\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/dashboard' className='nav-link'>Dashboard</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/product' className='nav-link'>Product</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/products' className='nav-link'>Products</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/category' className='nav-link'>Category</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/sub' className='nav-link'>Sub Category</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/coupon' className='nav-link'>Coupons</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/user/password' className='nav-link'>Password</Link>\r\n            </li>\r\n        </ul>\r\n  </nav>\r\n);\r\n\r\n\r\nexport default AdminNav;\r\n","import axios from 'axios';\r\nconst instance = axios.create();\r\n\r\nexport const getProductsByCount = async (count) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/${count}`\r\n      )\r\n};\r\n\r\n\r\nexport const getProduct = async (slug) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/product/${slug}`\r\n      )\r\n};\r\n\r\n\r\nexport const removeProduct = async (slug,authtoken) => {\r\n  return await axios.delete(\r\n        `${process.env.REACT_APP_API}/product/${slug}`,\r\n        { data: {authtoken} }\r\n      )\r\n};\r\n//\r\n//\r\n// export const updateCategory = async (slug,category,authtoken) => {\r\n//   return await axios.put(\r\n//         `${process.env.REACT_APP_API}/category/${slug}`,\r\n//         {authtoken, category}\r\n//       )\r\n// };\r\n\r\n\r\nexport const createProduct = async ( product,authtoken) => {\r\n  return await axios.post(\r\n        `${process.env.REACT_APP_API}/product`,\r\n        {authtoken,product}   \r\n      )\r\n};\r\n\r\nexport const updateProduct = async (slug, product,authtoken) => {\r\n  return await axios.put(\r\n        `${process.env.REACT_APP_API}/product/${slug}`, \r\n        { authtoken ,product })};\r\n\r\n\r\nexport const getProducts = async ( sort , order , page) => {\r\n  return await axios.post(\r\n        `${process.env.REACT_APP_API}/products`,\r\n        {sort , order , page}   \r\n        )};\r\n\r\nexport const getproductsCount = async () => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/total`\r\n          )};\r\n\r\n\r\nexport const productStar = async (productId, star,authtoken) => {\r\n  return await axios.put(\r\n        `${process.env.REACT_APP_API}/product/star/${productId}`, \r\n        { authtoken ,star }\r\n        )};\r\n\r\n\r\nexport const getRelated = async (productId) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/related/${productId}`\r\n         )};\r\n\r\n\r\n         export const fetchProductsByFilter = async (arg) => {\r\n          return await axios.post(\r\n                `${process.env.REACT_APP_API}/search/filters` , arg\r\n              )\r\n        };         ","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default /*#__PURE__*/React.forwardRef(EditOutlined);","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","import React from 'react';\r\nimport {Card} from 'antd';\r\nimport mantuPhoto from '../../images/mantu.jpeg';\r\nimport {EditOutlined, DeleteOutlined} from '@ant-design/icons';\r\nimport  {Link} from 'react-router-dom';\r\n\r\n\r\n\r\nconst {Meta} = Card;\r\n\r\n\r\nconst AdminProductCard = ({product, handleRemove}) => {\r\n  //destructuring\r\n  const {title, images, description ,slug} = product;\r\n  return(\r\n    <Card\r\n        cover={\r\n            <img src={ images && images.length ? images[0].url: mantuPhoto}\r\n                 style={{height: '150px', objectFit:'cover'}}\r\n                 className='p-1 m-3'/>}\r\n\r\n            actions={[\r\n                  <Link to={`/admin/product/${slug}`}>\r\n                        <EditOutlined className='text-warning' />\r\n                  </Link>,\r\n              <DeleteOutlined onClick={() => handleRemove(slug)} className='text-danger' />\r\n            ]}\r\n                 >\r\n\r\n\r\n        <Meta title={title} description={`${description && description.substring(0,29)}....`}/>\r\n     </Card>\r\n  )\r\n}\r\n\r\nexport default AdminProductCard;\r\n","import React, {useState, useEffect} from 'react';\r\nimport AdminNav from '../../../components/nav/AdminNav';\r\nimport {toast} from 'react-toastify';\r\nimport { getProductsByCount, removeProduct } from '../../../functions/product';\r\nimport AdminProductCard from '../../../components/cards/AdminProductCard';\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst AllProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  const {user} = useSelector((state) => ({ ...state }))\r\n\r\n\r\n  useEffect(() => {\r\n    loadAllProducts()\r\n  },[])\r\n\r\n\r\n\r\n  const loadAllProducts = () => {\r\n    setLoading(true);\r\n    getProductsByCount(100)\r\n    .then((res) => {\r\n      setProducts(res.data);\r\n      setLoading(false);\r\n    }).catch((err) => {\r\n      setLoading(false);\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n\r\n  const handleRemove = (slug) => {\r\n    let answer = window.confirm('Delete...?');\r\n    if (answer) {\r\n      // console.log('send delete request', slug);\r\n      removeProduct(slug,user.token)\r\n      .then((res) => {\r\n        loadAllProducts()\r\n        toast.error(`${res.data.title} is deleted`);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n        console.log(err);\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  return(\r\n  <div className='container-fluid'>\r\n    <div className='row'>\r\n\r\n\r\n        <div className='col-md-2'>\r\n            <AdminNav />\r\n        </div>\r\n\r\n        <div className='col mt-5'>\r\n        {loading ? (<h4 className='text-danger'>Loading</h4>) : (<h4>All Products...</h4>)}\r\n            <div className='row'>\r\n                  {products.map(product =>\r\n                        <div className='col-md-4 pb-3' key={product._id}><AdminProductCard product={product} handleRemove={handleRemove} key={product._id} /></div>\r\n            )}</div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>)\r\n};\r\n\r\nexport default AllProducts;\r\n"],"sourceRoot":""}