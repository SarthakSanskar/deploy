{"version":3,"sources":["components/nav/AdminNav.js","functions/product.js","components/forms/FileUpload.js","components/forms/ProductCreateForm.js","pages/admin/product/ProductCreate.js"],"names":["AdminNav","className","to","getProductsByCount","axios","create","count","a","get","process","REACT_APP_API","getProduct","slug","removeProduct","authtoken","delete","data","createProduct","product","post","updateProduct","put","getProducts","sort","order","page","getproductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","FileUpload","values","setValues","setLoading","user","useSelector","state","images","map","imag","onClick","public_id","console","log","filteredImages","filter","item","token","then","res","catch","err","handleImageRemove","style","cursor","shape","src","url","size","type","multiple","accept","hidden","onChange","e","target","files","allUploadedFiles","i","length","Resizer","imageFileResizer","uri","image","push","Option","Select","ProductCreateForm","handleChange","handleSubmit","handleCategoryChange","subOptions","showSub","title","description","price","categories","category","subs","quantity","shipping","colors","brands","color","brand","onSubmit","name","value","c","b","_id","mode","width","placeholder","s","initState","ProductCreate","useState","setSubOptions","showSubs","setShowSubs","loading","useEffect","loadCategories","getCategories","LoadingOutlined","preventDefault","toast","success","window","alert","location","reload","error","response","getCategorySubs"],"mappings":"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","file":"static/js/14.cc309715.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nconst AdminNav = () => (\r\n  <nav>\r\n        <ul className=\"nav flex-column\">\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/dashboard' className='nav-link'>Dashboard</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/product' className='nav-link'>Product</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/products' className='nav-link'>Products</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/category' className='nav-link'>Category</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/sub' className='nav-link'>Sub Category</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/admin/coupon' className='nav-link'>Coupons</Link>\r\n            </li>\r\n\r\n            <li className = 'nav-item'>\r\n                <Link to='/user/password' className='nav-link'>Password</Link>\r\n            </li>\r\n        </ul>\r\n  </nav>\r\n);\r\n\r\n\r\nexport default AdminNav;\r\n","import axios from 'axios';\r\nconst instance = axios.create();\r\n\r\nexport const getProductsByCount = async (count) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/${count}`\r\n      )\r\n};\r\n\r\n\r\nexport const getProduct = async (slug) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/product/${slug}`\r\n      )\r\n};\r\n\r\n\r\nexport const removeProduct = async (slug,authtoken) => {\r\n  return await axios.delete(\r\n        `${process.env.REACT_APP_API}/product/${slug}`,\r\n        { data: {authtoken} }\r\n      )\r\n};\r\n//\r\n//\r\n// export const updateCategory = async (slug,category,authtoken) => {\r\n//   return await axios.put(\r\n//         `${process.env.REACT_APP_API}/category/${slug}`,\r\n//         {authtoken, category}\r\n//       )\r\n// };\r\n\r\n\r\nexport const createProduct = async ( product,authtoken) => {\r\n  return await axios.post(\r\n        `${process.env.REACT_APP_API}/product`,\r\n        {authtoken,product}   \r\n      )\r\n};\r\n\r\nexport const updateProduct = async (slug, product,authtoken) => {\r\n  return await axios.put(\r\n        `${process.env.REACT_APP_API}/product/${slug}`, \r\n        { authtoken ,product })};\r\n\r\n\r\nexport const getProducts = async ( sort , order , page) => {\r\n  return await axios.post(\r\n        `${process.env.REACT_APP_API}/products`,\r\n        {sort , order , page}   \r\n        )};\r\n\r\nexport const getproductsCount = async () => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/total`\r\n          )};\r\n\r\n\r\nexport const productStar = async (productId, star,authtoken) => {\r\n  return await axios.put(\r\n        `${process.env.REACT_APP_API}/product/star/${productId}`, \r\n        { authtoken ,star }\r\n        )};\r\n\r\n\r\nexport const getRelated = async (productId) => {\r\n  return await axios.get(\r\n        `${process.env.REACT_APP_API}/products/related/${productId}`\r\n         )};\r\n\r\n\r\n         export const fetchProductsByFilter = async (arg) => {\r\n          return await axios.post(\r\n                `${process.env.REACT_APP_API}/search/filters` , arg\r\n              )\r\n        };         ","import React from 'react';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport axios from 'axios';\r\nimport {useSelector} from 'react-redux';\r\nimport {Avatar ,Badge} from 'antd';\r\n\r\n\r\nconst FileUpload = ({values, setValues, setLoading}) => {\r\n\r\n  const {user} = useSelector((state) => ({...state}));\r\n\r\n  const fileUploadAndResize = (e) => {\r\n    // steps\r\n    console.log(e.target.files);\r\n    // resize\r\n    let files = e.target.files;\r\n    let allUploadedFiles = values.images;\r\n\r\n\r\n    if (files) {\r\n      setLoading(true);\r\n      for (let i=0; i< files.length; i++){\r\n        Resizer.imageFileResizer(files[i],720,720,'JPEG', 100, 0, (uri) => {\r\n          //\r\n          console.log(\"###########\", uri , \"#####################\");\r\n          axios.post(`${process.env.REACT_APP_API}/uploadimages`, {image: uri, authtoken :user? user.token: '' ,})\r\n          .then(res => {\r\n            console.log('IMAGE UPLOAD RESPONSE DATA', res);\r\n            setLoading(false);\r\n            allUploadedFiles.push(res.data);\r\n            setValues({...values, images : allUploadedFiles});\r\n          })\r\n          .catch(err => {\r\n            setLoading(false);\r\n            console.log('CLOUDINARY UPLOAD ERROR');\r\n          })\r\n        }, 'base64'\r\n      )\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  const handleImageRemove = (public_id) => {\r\n    setLoading(true);\r\n    console.log('remove image', public_id);\r\n    const {images} = values;\r\n    let filteredImages = images.filter((item) => {\r\n      return item.public_id !== public_id;\r\n    });\r\n    setValues({...values, images: filteredImages});\r\n    axios.post(`${process.env.REACT_APP_API}/removeimage`,{public_id, authtoken :user? user.token: '' ,})\r\n    .then((res) => {\r\n      console.log(\"THEN WORKED IN IMAGE REMOVE\");\r\n      setLoading(false);\r\n\r\n    })\r\n    .catch((err) => {\r\n      setLoading(false);\r\n      console.log('Cloudinary Frontend error', err);\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className='row'>\r\n          {values.images.map((imag) => (\r\n            <Badge count='X' key={imag.public_id} onClick={() => handleImageRemove(imag.public_id)} style={{cursor: 'pointer'}}>\r\n            <Avatar shape='square' src={imag.url} size={100} className='ml-3' />\r\n            </Badge>\r\n          ))}\r\n      </div>\r\n      <div className='row'>\r\n        <label className='btn btn-info btn-raised '>Choose file to upload\r\n        <input type='file' multiple accept='images/*' hidden onChange={fileUploadAndResize} />\r\n        </label>\r\n      </div>\r\n  </>\r\n)}\r\n\r\nexport default FileUpload;\r\n","import React from 'react';\r\nimport  {Select} from 'antd';\r\n\r\nconst {Option} = Select;\r\n\r\nconst ProductCreateForm = ({handleChange ,handleSubmit,handleCategoryChange,subOptions ,showSub ,setValues, values}) =>{\r\n  //Destructurung\r\n  const {\r\n      title,\r\n      description,\r\n      price,\r\n      category,\r\n      categories,\r\n      subs,\r\n      shipping,\r\n      quantity,\r\n      images,\r\n      colors,\r\n      brands ,\r\n      color,\r\n      brand } = values;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n          <div className='form-group'>\r\n              <label>Title</label>\r\n              <input\r\n                    type='text'\r\n                    name='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    onChange={handleChange}\r\n                 />\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n              <label>Description</label>\r\n              <input\r\n                    type='text'\r\n                    name='description'\r\n                    className='form-control'\r\n                    value={description}\r\n                    onChange={handleChange}\r\n                 />\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n              <label>Price</label>\r\n              <input\r\n                    type='number'\r\n                    name='price'\r\n                    className='form-control'\r\n                    value={price}\r\n                    onChange={handleChange}\r\n                 />\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n              <label>Shipping</label>\r\n              <select\r\n                  name='shipping'\r\n                  className=\"form-control\"\r\n                  onChange={handleChange}>\r\n                  <option value=''>Select One</option>\r\n                  <option value='No'>No</option>\r\n                  <option value='Yes'>Yes</option>\r\n              </select>\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n              <label>Quantity</label>\r\n              <input\r\n                    type='number'\r\n                    name='quantity'\r\n                    className='form-control'\r\n                    value={quantity}\r\n                    onChange={handleChange}\r\n                 />\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n              <label>Color</label>\r\n              <select\r\n                  name='color'\r\n                  className=\"form-control\"\r\n                  onChange={handleChange}>\r\n                  <option value=''>Select One</option>\r\n                  {colors.map((c) => <option key={c} value={c}>{c}</option>)}\r\n              </select>\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n              <label>Brand</label>\r\n              <select\r\n                  name='brand'\r\n                  className=\"form-control\"\r\n                  onChange={handleChange}>\r\n                  <option value=''>Select One</option>\r\n                  {brands.map((b) => <option key={b} value={b}>{b}</option>)}\r\n              </select>\r\n          </div>\r\n\r\n          <div className='form-group'>\r\n            <label>Category</label>\r\n            <select\r\n                name='category'\r\n                className='form-control'\r\n                onChange={handleCategoryChange}>\r\n                <option key='' value=''>Select</option>\r\n                {categories.length >0 &&\r\n                  categories.map((c) => (\r\n                    <option key={c._id} value={c._id}>\r\n                        {c.name}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n\r\n\r\n\r\n          {showSub ? (<div>\r\n            <label>Sub Categories</label>\r\n             <Select\r\n                  mode='multiple'\r\n                  style={{width: '100%'}}\r\n                  placeholder=\"Please Select\"\r\n                  value={subs}\r\n                  onChange={value => setValues({ ...values, subs: value })}>\r\n\r\n\r\n\r\n                {subOptions.length &&\r\n                  subOptions.map((s) => (\r\n                    <Option key={s._id} value={s._id}>\r\n                        {s.name} :::\r\n                    </Option>))}\r\n            </Select>\r\n          </div>) : ''}\r\n          <br/>\r\n          <button className='btn btn-outline-success'>Submit</button>\r\n    </form>\r\n  )\r\n}\r\n\r\n\r\nexport default ProductCreateForm;\r\n","import React, {useState,useEffect} from 'react';\r\nimport AdminNav from '../../../components/nav/AdminNav';\r\nimport {toast} from 'react-toastify';\r\nimport {useSelector} from 'react-redux';\r\nimport {\r\n  createProduct,\r\n} from '../../../functions/product';\r\nimport {getCategories, getCategorySubs} from '../../../functions/category';\r\nimport FileUpload from '../../../components/forms/FileUpload';\r\nimport {LoadingOutlined} from '@ant-design/icons'\r\n\r\n\r\nimport ProductCreateForm from '../../../components/forms/ProductCreateForm';\r\n\r\nconst initState = {\r\n    title: '',\r\n    description: '',\r\n    price: '',\r\n    category: '',\r\n    categories: [],\r\n    subs: [],\r\n    shipping: '',\r\n    quantity: '',\r\n    images: [],\r\n    colors: [\"Black\", 'Brown', \"Silver\", \"Blue\", 'White'],\r\n    brands: [\"Apple\", 'Microsoft', \"Samsung\", \"Lenovo\", 'ASUS'],\r\n    color: '',\r\n    brand: ''\r\n  }\r\n\r\nconst ProductCreate = () => {\r\n  const [values, setValues] = useState(initState);\r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [showSubs, setShowSubs] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n      loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = () =>\r\n      getCategories().then((c) => setValues({...values, categories: c.data}));\r\n\r\n\r\n\r\n// redux\r\n    const {user} = useSelector((state) => ({...state}));\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      createProduct(values, user.token)\r\n      .then(res => {\r\n        console.log(res);\r\n        toast.success(\"Product Create Completed\");\r\n        window.alert(`${res.data.title} is created`);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        // if (err.response.status === 400) toast.error(err.response.data);\r\n        toast.error(err.response.data.err);\r\n      })\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n      //\r\n      setValues({...values, [e.target.name]: e.target.value })\r\n      // console.log(e.target.name, '-------------', e.target.value);\r\n    }\r\n\r\n\r\n    const handleCategoryChange = (e) => {\r\n      e.preventDefault();\r\n      console.log('CLICKED CATEGORY', e.target.value);\r\n      setValues({...values, subs: [], category: e.target.value });\r\n      getCategorySubs(e.target.value)\r\n      .then(res => {\r\n        console.log('Sub Options on Category', res);\r\n        setSubOptions(res.data);\r\n      })\r\n      setShowSubs(true);\r\n\r\n    }\r\n\r\n\r\n  return (\r\n    <div className='container-fluid'>\r\n      <div className='row'>\r\n          <div className='col-md-2'>\r\n              <AdminNav />\r\n          </div>\r\n\r\n          <div className='col'>\r\n              {loading? <LoadingOutlined className='text-danger h1 mt-2' /> :<h3>Product Create</h3>}\r\n              <hr />\r\n              {/* JSON.stringify(values.images)*/}\r\n\r\n\r\n              <div className='p-3'>\r\n                <FileUpload values={values} setValues={setValues} setLoading={setLoading} />\r\n              </div>\r\n\r\n              <ProductCreateForm\r\n                      handleChange={handleChange}\r\n                      handleSubmit={handleSubmit}\r\n                      handleCategoryChange={handleCategoryChange}\r\n                      subOptions={subOptions}\r\n                      showSub={showSubs}\r\n                      setValues={setValues}\r\n                      values={values} />\r\n          </div>\r\n      </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default ProductCreate;\r\n"],"sourceRoot":""}