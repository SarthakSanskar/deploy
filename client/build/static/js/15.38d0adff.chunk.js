(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{199:function(e,t,n){"use strict";var c=n(4),a=(n(0),n(49));t.a=function(){return Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{className:"nav flex-column",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/admin/coupon",className:"nav-link",children:"Coupons"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(a.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})}},200:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return O})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return _})),n.d(t,"b",(function(){return h}));var c=n(11),a=n.n(c),r=n(27),o=n(26),s=n.n(o),i=(s.a.create(),function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/product/").concat(t),{data:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/product"),{authtoken:n,product:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(r.a)(a.a.mark((function e(t,n,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/product/").concat(t),{authtoken:c,product:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(a.a.mark((function e(t,n,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/products"),{sort:t,order:n,page:c});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(a.a.mark((function e(t,n,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.put("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/product/star/").concat(t),{authtoken:c,star:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/products/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},230:function(e,t,n){"use strict";var c=n(4),a=n(71),r=(n(0),n(234)),o=n.n(r),s=n(26),i=n.n(s),u=n(62),l=n(324),d=n(321);t.a=function(e){var t=e.values,n=e.setValues,r=e.setLoading,s=Object(u.c)((function(e){return Object(a.a)({},e)})).user;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row",children:t.images.map((function(e){return Object(c.jsx)(l.a,{count:"X",onClick:function(){return function(e){r(!0),console.log("remove image",e);var c=t.images.filter((function(t){return t.public_id!==e}));n(Object(a.a)(Object(a.a)({},t),{},{images:c})),i.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/removeimage"),{public_id:e,authtoken:s?s.token:""}).then((function(e){console.log("THEN WORKED IN IMAGE REMOVE"),r(!1)})).catch((function(e){r(!1),console.log("Cloudinary Frontend error",e)}))}(e.public_id)},style:{cursor:"pointer"},children:Object(c.jsx)(d.a,{shape:"square",src:e.url,size:100,className:"ml-3"})},e.public_id)}))}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("label",{className:"btn btn-info btn-raised ",children:["Choose file to upload",Object(c.jsx)("input",{type:"file",multiple:!0,accept:"images/*",hidden:!0,onChange:function(e){console.log(e.target.files);var c=e.target.files,u=t.images;if(c){r(!0);for(var l=0;l<c.length;l++)o.a.imageFileResizer(c[l],720,720,"JPEG",100,0,(function(e){console.log("###########",e,"#####################"),i.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API,"/uploadimages"),{image:e,authtoken:s?s.token:""}).then((function(e){console.log("IMAGE UPLOAD RESPONSE DATA",e),r(!1),u.push(e.data),n(Object(a.a)(Object(a.a)({},t),{},{images:u}))})).catch((function(e){r(!1),console.log("CLOUDINARY UPLOAD ERROR")}))}),"base64")}}})]})})]})}},332:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(102),r=n(71),o=n(40),s=n(0),i=n(199),u=n(89),l=n(62),d=n(200),O=n(90),b=n(230),j=n(197),p=n(244),_=p.a.Option,h=function(e){var t=e.handleChange,n=e.categories,a=e.selectedCategory,r=e.handleSubmit,o=(e.setValues,e.handleCategoryChange),s=e.arrayOfSubs,i=e.setArrayOfSubIds,u=e.subOptions,l=e.values,d=l.title,O=l.description,b=l.price,j=l.category,h=(l.subs,l.shipping),f=l.quantity,S=(l.images,l.colors),m=l.brands,v=l.color,E=l.brand;return Object(c.jsxs)("form",{onSubmit:r,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Title"}),Object(c.jsx)("input",{type:"text",name:"title",className:"form-control",value:d,onChange:t})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Description"}),Object(c.jsx)("input",{type:"text",name:"description",className:"form-control",value:O,onChange:t})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Price"}),Object(c.jsx)("input",{type:"number",name:"price",className:"form-control",value:b,onChange:t})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Shipping"}),Object(c.jsxs)("select",{name:"shipping",className:"form-control",onChange:t,value:"Yes"===h?"Yes":"No",children:[Object(c.jsx)("option",{value:"No",children:"No"}),Object(c.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Quantity"}),Object(c.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:f,onChange:t})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Color"}),Object(c.jsx)("select",{name:"color",className:"form-control",onChange:t,value:v,children:S.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Brand"}),Object(c.jsx)("select",{name:"brand",className:"form-control",onChange:t,value:E,children:m.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Category"}),Object(c.jsx)("select",{name:"category",className:"form-control",onChange:o,value:a||j._id,children:n.length>0&&n.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"Sub Categories"}),Object(c.jsx)(p.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please Select",value:s,onChange:function(e){return i(e)},children:u.length&&u.map((function(e){return Object(c.jsxs)(_,{value:e._id,children:[e.name," :::"]},e._id)}))})]}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:"btn btn-outline-success",children:"Submit"})]})},f={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","Blue","White"],brands:["Apple","Microsoft","Samsung","Lenovo","ASUS"],color:"",brand:""};t.default=function(e){var t=e.match,n=e.history,p=Object(s.useState)(f),_=Object(o.a)(p,2),S=_[0],m=_[1],v=Object(s.useState)([]),E=Object(o.a)(v,2),T=E[0],g=E[1],x=Object(s.useState)([]),C=Object(o.a)(x,2),P=C[0],N=C[1],A=Object(s.useState)([]),R=Object(o.a)(A,2),D=R[0],y=R[1],K=Object(s.useState)(),W=Object(o.a)(K,2),H=W[0],I=W[1],L=Object(s.useState)(!1),k=Object(o.a)(L,2),w=k[0],U=k[1],F=Object(l.c)((function(e){return Object(r.a)({},e)})).user,V=t.params.slug;Object(s.useEffect)((function(){B(),Y()}),[]);var B=function(){Object(d.c)(V).then((function(e){m(Object(r.a)(Object(r.a)({},S),e.data)),Object(O.d)(e.data.category._id).then((function(e){g(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),y((function(e){return t}))}))},Y=function(){return Object(O.b)().then((function(e){N(e.data)}))};return Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-2",children:Object(c.jsx)(i.a,{})}),Object(c.jsxs)("div",{className:"col",children:[w?Object(c.jsx)(j.a,{className:"text-danger h1 mt-2"}):Object(c.jsx)("h3",{children:"Product Update"}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"p-3",children:Object(c.jsx)(b.a,{values:S,setValues:m,setLoading:U})}),Object(c.jsx)(h,{handleChange:function(e){m(Object(r.a)(Object(r.a)({},S),{},Object(a.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),U(!0),S.subs=D,S.category=H||S.category,Object(d.j)(V,S,F.token).then((function(e){U(!1),u.b.success(' "'.concat(e.data.title,'" is updated')),n.push("/admin/products")})).catch((function(e){console.log(e),U(!1),u.b.error(e.response.data.err)}))},handleCategoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),m(Object(r.a)(Object(r.a)({},S),{},{subs:[]})),I(e.target.value),Object(O.d)(e.target.value).then((function(e){console.log("Sub Options on Category",e),g(e.data)})),console.log("Existing Category values.category",S.category),S.category._id===e.target.value&&B(),y([])},subOptions:T,categories:P,setValues:m,arrayOfSubs:D,setArrayOfSubIds:y,values:S,selectedCategory:H}),Object(c.jsx)("hr",{})]})]})})}}}]);
//# sourceMappingURL=15.38d0adff.chunk.js.map